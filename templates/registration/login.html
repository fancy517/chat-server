<!-- {% block content %}

{% if form.errors %}
<p>Your username and password didn't match. Please try again.</p>
{% endif %}

{% if next %}
    {% if user.is_authenticated %}
    <p>Your account doesn't have access to this page. To proceed,
    please login with an account that has access.</p>
    {% else %}
    <p>Please login to see this page.</p>
    {% endif %}
{% endif %}

<form method="post" action="{% url 'login' %}">
    {% csrf_token %}
    <div>
      <td>{{ form.username.label_tag }}</td>
      <input name="username" type="text">
    </div>
    <div>
      <td>{{ form.password.label_tag }}</td>
      <input name="password" type="password">
    </div>

    <div>
      <input type="submit" value="login" />
      <input type="hidden" name="next" value="{{ next }}" />
    </div>
</form>

{% endblock %} -->

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet">
    <link href="https://unpkg.com/vuetify/dist/vuetify.min.css" rel="stylesheet">
    <title>Chat Room</title>
</head>
<body>
    <div id="app">
        <v-app>
            <v-content class="grey lighten-3">


                <v-dialog persistent v-model="askLogin" max-width="400">
                  <v-card>

                    <v-card-title class="blue white--text">
                        Login Details  <v-spacer></v-spacer><v-icon>person</v-icon>
                    </v-card-title>

                        {% if form.errors %}
                        <v-alert class="py-1 my-0 mb-2" :value="true" type="error">
                          Your username and password didn't match. Please try again.  
                        </v-alert>
                        {% endif %}                    

                    <v-card-text class="pt-0">

                        <v-form ref="form" method="POST" action="{% url 'login' %}" id="nativeForm">
                        {% csrf_token %}
                        <v-text-field
                          hide-details
                          label="Username"
                          name="username"
                          v-on:keyup.enter="send"
                        ></v-text-field>
                        <v-text-field
                          hide-details
                          label="Password"
                          name="password"
                          v-on:keyup.enter="send"
                          type="password"
                          required
                        ></v-text-field>
                        </v-form>
                    </v-card-text>
                    <v-divider></v-divider>
                    <v-card-actions class="grey lighten-3">
                      <v-spacer></v-spacer>
                      <v-btn @click="send" type="submit" color="blue darken-1" class="caption" small flat="flat">Login</v-btn>
                    </v-card-actions>
                  </v-card>
                </v-dialog>
            </v-content>
        </v-app>
    </div>
</body>

<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script src="https://unpkg.com/vuetify/dist/vuetify.js"></script>

<script>

    new Vue({
        el: '#app',
        data: {
          askLogin:true,    
        },
        methods: {
            send() {
                nativeForm.submit()          
            }
        }
    })

</script>


</html>
